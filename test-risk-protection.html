<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Risk-Based Protection System</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .test-button {
            background: #dc2626;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px;
            transition: background-color 0.2s;
        }
        .test-button:hover {
            background: #b91c1c;
        }
        .test-button.medium {
            background: #d97706;
        }
        .test-button.medium:hover {
            background: #b45309;
        }
        .test-button.low {
            background: #16a34a;
        }
        .test-button.low:hover {
            background: #15803d;
        }
        .info {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
        }
        .website-content {
            margin: 30px 0;
            padding: 20px;
            border: 2px dashed #ccc;
            border-radius: 8px;
            text-align: center;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ›¡ï¸ mAIscam Risk-Based Protection Test</h1>
        
        <div class="info">
            <h3>ğŸ“‹ Test Instructions</h3>
            <p>This page simulates the risk-based protection system. Click the buttons below to test different risk levels:</p>
            <ul>
                <li><strong>High Risk:</strong> Should trigger blur overlay + warning modal</li>
                <li><strong>Medium Risk:</strong> Should trigger blur overlay + warning modal</li>
                <li><strong>Low Risk:</strong> Should show normal analysis modal</li>
            </ul>
        </div>

        <div class="website-content">
            <h2>ğŸŒ Website Content</h2>
            <p>This represents the actual website content that would be blurred for medium/high risk sites.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        </div>

        <h3>ğŸ§ª Test Different Risk Levels</h3>
        
        <button class="test-button" onclick="testHighRisk()">
            ğŸš¨ Test High Risk (English)
        </button>
        
        <button class="test-button" onclick="testHighRiskChinese()">
            ğŸš¨ Test High Risk (Chinese)
        </button>
        
        <button class="test-button medium" onclick="testMediumRisk()">
            âš ï¸ Test Medium Risk (Malay)
        </button>
        
        <button class="test-button medium" onclick="testMediumRiskVietnamese()">
            âš ï¸ Test Medium Risk (Vietnamese)
        </button>
        
        <button class="test-button low" onclick="testLowRisk()">
            âœ… Test Low Risk (Thai)
        </button>

        <div class="info">
            <h3>ğŸ”‘ Passcode Information</h3>
            <p>For medium/high risk tests, you'll need to type the acknowledgment passcode:</p>
            <ul>
                <li><strong>English:</strong> "I UNDERSTAND"</li>
                <li><strong>Chinese:</strong> "æˆ‘æ˜ç™½"</li>
                <li><strong>Malay:</strong> "SAYA FAHAM"</li>
                <li><strong>Vietnamese:</strong> "TÃ”I HIá»‚U"</li>
                <li><strong>Thai:</strong> "à¸‰à¸±à¸™à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆ"</li>
            </ul>
        </div>
    </div>

    <script>
        // Simulate browser extension message passing
        function sendMessageToContentScript(message) {
            // In real extension, this would be browser.tabs.sendMessage
            if (window.chrome && window.chrome.runtime) {
                chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {
                    chrome.tabs.sendMessage(tabs[0].id, message);
                });
            } else {
                // For testing without extension context
                console.log('Would send message to content script:', message);
                // Simulate the message handling
                if (message.type === 'SHOW_ANALYSIS_MODAL') {
                    simulateModalDisplay(message);
                }
            }
        }

        function simulateModalDisplay(message) {
            // This simulates what the content script would do
            alert('Simulating: ' + message.analysisType + ' analysis with risk level: ' + 
                  (message.result.risk_level || message.result.data?.risk_level || 'Unknown'));
        }

        function testHighRisk() {
            const message = {
                type: 'SHOW_ANALYSIS_MODAL',
                analysisType: 'website',
                result: {
                    risk_level: 'High',
                    analysis: 'This website exhibits clear phishing characteristics, including urgent language, requests for account information through unofficial links, and fake banking domains.',
                    recommended_action: 'Do not interact with this website and report it to authorities.',
                    detected_language: 'en',
                    target_language: 'en'
                },
                loading: false
            };
            sendMessageToContentScript(message);
        }

        function testHighRiskChinese() {
            const message = {
                type: 'SHOW_ANALYSIS_MODAL',
                analysisType: 'website',
                result: {
                    risk_level: 'é«˜é£é™©',
                    analysis: 'è¯¥ç½‘ç«™å­˜åœ¨æ˜æ˜¾çš„é’“é±¼ç‰¹å¾ï¼ŒåŒ…æ‹¬ç´§è¿«è¯­æ°”ã€è¦æ±‚é€šè¿‡éå®˜æ–¹é“¾æ¥æä¾›è´¦æˆ·ä¿¡æ¯ï¼Œä»¥åŠä¼ªé€ çš„åŸŸåã€‚',
                    recommended_action: 'å‹¿ä¸è¯¥ç½‘ç«™äº’åŠ¨å¹¶å‘å½“å±€æŠ¥å‘Šã€‚',
                    detected_language: 'zh',
                    target_language: 'zh'
                },
                loading: false
            };
            sendMessageToContentScript(message);
        }

        function testMediumRisk() {
            const message = {
                type: 'SHOW_ANALYSIS_MODAL',
                analysisType: 'website',
                result: {
                    risk_level: 'Risiko Sederhana',
                    analysis: 'Laman web ini menunjukkan beberapa ciri yang mencurigakan dan mungkin tidak selamat untuk dikunjungi.',
                    recommended_action: 'Berhati-hati dan jangan berikan maklumat peribadi.',
                    detected_language: 'ms',
                    target_language: 'ms'
                },
                loading: false
            };
            sendMessageToContentScript(message);
        }

        function testMediumRiskVietnamese() {
            const message = {
                type: 'SHOW_ANALYSIS_MODAL',
                analysisType: 'website',
                result: {
                    risk_level: 'Rá»§i ro trung bÃ¬nh',
                    analysis: 'Trang web nÃ y cÃ³ má»™t sá»‘ Ä‘áº·c Ä‘iá»ƒm Ä‘Ã¡ng ngá» vÃ  cÃ³ thá»ƒ khÃ´ng an toÃ n Ä‘á»ƒ truy cáº­p.',
                    recommended_action: 'HÃ£y cáº©n tháº­n vÃ  khÃ´ng cung cáº¥p thÃ´ng tin cÃ¡ nhÃ¢n.',
                    detected_language: 'vi',
                    target_language: 'vi'
                },
                loading: false
            };
            sendMessageToContentScript(message);
        }

        function testLowRisk() {
            const message = {
                type: 'SHOW_ANALYSIS_MODAL',
                analysisType: 'website',
                result: {
                    risk_level: 'à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸•à¹ˆà¸³',
                    analysis: 'à¹€à¸§à¹‡à¸šà¹„à¸‹à¸•à¹Œà¸™à¸µà¹‰à¸”à¸¹à¹€à¸«à¸¡à¸·à¸­à¸™à¸ˆà¸°à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸°à¹„à¸¡à¹ˆà¸¡à¸µà¸ªà¸±à¸à¸à¸²à¸“à¹€à¸•à¸·à¸­à¸™à¸—à¸µà¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™',
                    recommended_action: 'à¸„à¸¸à¸“à¸ªà¸²à¸¡à¸²à¸£à¸–à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¸•à¹ˆà¸­à¹„à¸”à¹‰ à¹à¸•à¹ˆà¸„à¸§à¸£à¸£à¸°à¸¡à¸±à¸”à¸£à¸°à¸§à¸±à¸‡à¹€à¸ªà¸¡à¸­',
                    detected_language: 'th',
                    target_language: 'th'
                },
                loading: false
            };
            sendMessageToContentScript(message);
        }

        // Add some visual feedback
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ§ª Risk-based protection test page loaded');
            console.log('ğŸ“ To test with actual extension, load this page in a browser with the mAIscam extension installed');
        });
    </script>
</body>
</html>
